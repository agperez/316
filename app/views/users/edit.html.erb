<% provide(:title, "Edit user") %>


<div class="row">
  <div class="col-md-4 col-md-offset-4">
    <% if current_user.admin?%><h1>Edit User</h1><% else %><h1>Adjust My Settings</h1><% end %>
    <%= form_for(@user) do |f| %>
      <% if @user.errors.any? %>
        <div id="error_explanation">
          <div class="alert alert-error">
            The form contains <%= pluralize(@user.errors.count, "error") %>.
          </div>
          <ul>
          <% @user.errors.full_messages.each do |msg| %>
            <li>* <%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
      <div class="form-group">
        <%= f.label :name %>
        <%= f.text_field :name, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.label :email %>
        <%= f.text_field :email, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.label :password, "New Password (optional)" %>
        <%= f.password_field :password, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.label :password_confirmation, "Confirm Your New Password" %>
        <%= f.password_field :password_confirmation, class: "form-control" %>
      </div>
      <% if current_user.admin? %>
        <div class="form-group">
          <%= f.label :role_id %>
          <%= f.collection_select :role_id, Role.all, :id, :name, {:include_blank => "Choose a Role"}, {class: "form-control"} %>
        </div>
        <div class="form-group">
          <%= f.label :team_id %>
          <%= f.collection_select :team_id, Team.all, :id, :name, {:include_blank => "Choose a Team"}, {class: "form-control"} %>
        </div>
        <div class="checkbox">
            <%= f.check_box :reminders, class: "checkbox checkbox_edit" %> Receive email reminders
        </div>
      <% end %>  
      <%= f.submit "Submit", class: "btn btn-large btn-primary" %>
    <% end %>
  </div>
</div>