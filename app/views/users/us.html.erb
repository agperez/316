<% provide(:title, 'the Church') %>
<% provide(:bodyid, 'us_body') %>
<script>
  $(document).ready(function(){
    $('.facebookpic').hover(function() {
        $(this).addClass('transition');

    }, function() {
        $(this).removeClass('transition');
    });
  });
</script>

<div class="row">
  <div class="col-lg-12">
    <h3 class="dash_heading">Users</h3>
  </div>
  <div class="col-lg-12">
    <div id='filters'>
      <span class="filter_title">Filter Names:</span>
      <a href='#' id="show_all" class="filter_buttons">All</a>
      <% @filters.each do |filter| %>
        <a href='#' id="alpha_<%=filter%>" class="filter_buttons"><%=filter.upcase%></a>
      <% end %>
    </div>
  </div>
</div>

<div id="box">
  <div class="filter">
  	<% @users.each do |user| %>
      <% @first_letter = 'alpha_'+user.first_name[0].downcase %>
  		<div class="<%= @first_letter %> front_page_images col-lg-2 col-md-3 col-sm-3 col-xs-4">
        <%= link_to(profile_user_path(user), class: "profile_link") do %>
    			<div class="us_box <%= @first_letter %>">
    				<div class="userbox <%= @first_letter %>">
    					<div class="image_box <%= @first_letter %>">
    						<center><%= image_for(user) %></center>
    					</div>
    					<div class="box_name <%= @first_letter %>">
    						<%= user.fullname %>
    					</div>
    					<div class="box_role <%= @first_letter %>">
    						<%= user.role.name unless user.role.nil? %>
    					</div>
    				</div>
    			</div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>


<script type="text/javascript">
$('#filters a').click(function(e){

    e.preventDefault();

    var filter = $(this).attr('id');

    if (filter == "show_all") {
      $('#box .filter div').show();
    }
    else {
        $('#box .filter div').show();
        $('#box .filter div:not(.' + filter + ')').hide();
    }
});
</script>
